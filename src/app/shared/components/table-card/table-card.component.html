<div class="table-card" [class.has-pagination]="showPaginator()">
  <div class="card-header">
    <div class="card-title-wrapper">
      @if (isLoading()) {
      <!-- Skeleton for title -->
      <div class="skeleton-title skeleton"></div>
      } @else {
      <h3 class="card-title">
        @if (icon()) {
        <i [class]="icon()" [ngClass]="iconClass()" aria-hidden="true"></i>
        }
        {{ title() }}
      </h3>
      }
    </div>

    <div class="header-controls">
      <ng-content select="[header-actions]"></ng-content>

      @if (enableExport()) {
      <button class="btn-icon-action" *appHasPermission="fullExportPermission()" (click)="onExport()"
        [disabled]="isLoading() || isExporting()" title="Xuáº¥t Excel">

        @if (isExporting()) {
        <i class="fas fa-spinner fa-spin text-teal"></i>
        } @else {
        <i class="fas fa-file-excel text-success"></i>
        }
      </button>
      }
    </div>
  </div>

  <div class="card-body">
    @if (isLoading()) {
    <div class="skeleton-container">
      <div class="skeleton-header"></div>
      <div class="skeleton-row"></div>
      <div class="skeleton-row"></div>
      <div class="skeleton-row"></div>
      <div class="skeleton-row"></div>
    </div>
    } @else {
    <app-reusable-table [data]="data()" [columns]="columns()" [isLoading]="false" [showPaginator]="showPaginator()"
      [pageSize]="pageSize()" [pageSizeOptions]="pageSizeOptions()" [clientSideSort]="clientSideSort()"
      [emptyStateText]="emptyStateText()" (rowClick)="onRowClick($event)" (rowAction)="onRowAction($event)">
    </app-reusable-table>
    }
  </div>
</div>