<div class="page-container">
  <div class="page-content">
    <div class="widget-section">
      <div class="widget-grid">
        <app-widget-card *ngFor="let widget of widgetData; trackBy: trackByWidgetId"
          [icon]="widget.icon"
          [title]="widget.title"
          [value]="widget.value"
          [caption]="widget.caption"
          [accentColor]="widget.accentColor">
        </app-widget-card>
      </div>
    </div>

    <div class="chart-wrapper">

      <div class="chart-header-row">
        <h2 class="chart-title">
          Tình Hình Sử Dụng Giường Bệnh Toàn Viện
          <span class="chart-subtitle">Overall Hospital Bed Occupancy Status</span>
        </h2>

        <div class="refresh-control" (click)="loadData()" [class.loading]="isLoading">
          <div class="refresh-icon">
            <i class="fas" [ngClass]="{'fa-sync': !isLoading, 'fa-spinner fa-spin': isLoading}"></i>
          </div>
          <span class="refresh-text" *ngIf="currentDateTime">
            Last Updated: {{ currentDateTime }}
          </span>
        </div>
      </div>
      <div #chartContainer class="chart-container-inner"></div>
    </div>
  </div>
</div>