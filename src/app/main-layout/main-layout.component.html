<div class="dashboard-container">
  <app-sidebar
    [navItems]="navItems"
    [isOpen]="isSidebarOpen"
    (toggleSidebar)="toggleSidebar()"
  ></app-sidebar>

  <div
    class="sidebar-backdrop"
    [class.show]="isSidebarOpen"
    (click)="toggleSidebar()"
  ></div>

  <div class="main-panel" [ngClass]="{ 'collapsed': !isSidebarOpen }">
    <app-header
      [currentUser]="currentUser"
      [userInitials]="userInitials"
      [rolesDisplay]="rolesDisplay"
      [currentScreenName]="currentScreenName"
      [showSearchBar]="showSearchBar" 
      (sidebarToggled)="toggleSidebar()"
      (logoutClicked)="logout()"
      (searchChanged)="onSearchTermChanged($event)"
    ></app-header>

    <main class="dashboard-content">
      <router-outlet></router-outlet>
    </main>
    
    <app-action-footer></app-action-footer>
  </div>
</div>