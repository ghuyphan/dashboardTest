<div class="dashboard-container">
  <aside class="sidebar" [ngClass]="{ 'collapsed': !isSidebarOpen, 'open': isSidebarOpen }">
    <div class="sidebar-header">
      <img
        src="https://cdn.haitrieu.com/wp-content/uploads/2022/08/icon-hoan-my-xanh-duong.png"
        alt="Logo Hoan My Saigon"
        class="sidebar-logo"
      >
      <h2>Hoàn Mỹ</h2>
    </div>

    <nav>
      <ul>
        <li><a href="#" class="active"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a></li>
        <li><a href="#"><i class="fas fa-users"></i> <span>User Management</span></a></li>
        <li><a href="#"><i class="fas fa-chart-bar"></i> <span>Reports</span></a></li>
        <li><a href="#"><i class="fas fa-cog"></i> <span>Settings</span></a></li>
        <li><a href="#"><i class="fas fa-question-circle"></i> <span>Help</span></a></li>
      </ul>
    </nav>
  </aside>

  <div class="main-panel" [ngClass]="{ 'collapsed': !isSidebarOpen }">
    <header class="dashboard-header">
      <div class="header-left">
        <button class="hamburger-menu" (click)="toggleSidebar()" aria-label="Toggle sidebar">
          <i class="fas fa-bars"></i>
        </button>
        </div>

      <div class="header-user-controls">
        <div class="user-info" *ngIf="currentUser">
          <i class="fas fa-user-circle user-icon"></i>
          <div class="user-details">
            <span class="username">{{ currentUser.username }}</span>
            <span class="user-roles">{{ rolesDisplay }}</span>
          </div>
        </div>
        <button class="logout-btn" (click)="logout()" aria-label="Logout">
          <i class="fas fa-sign-out-alt"></i> <span>Logout</span>
        </button>
      </div>
    </header>

    <main class="dashboard-content">
      <h2>Dashboard Overview</h2>
      <p>Welcome, {{ currentUser?.username }}! Here's a quick look at the system.</p>

      <div class="widget-grid">
        <div class="widget-card">
          <div class="widget-header">
            <i class="fas fa-users"></i>
            <h3>Active Users</h3>
          </div>
          <div class="widget-body">
            <p class="widget-data">1,234</p>
          </div>
          <div class="widget-footer">
             <p class="widget-trend"><i class="fas fa-arrow-up"></i> 5% this month</p>
          </div>
        </div>
        <div class="widget-card">
           <div class="widget-header">
              <i class="fas fa-file-signature"></i>
              <h3>Pending Approvals</h3>
          </div>
           <div class="widget-body">
            <p class="widget-data">15</p>
          </div>
           <div class="widget-footer">
            <p>Needs attention</p>
          </div>
        </div>
        <div class="widget-card">
           <div class="widget-header">
              <i class="fas fa-heartbeat"></i>
              <h3>System Status</h3>
          </div>
           <div class="widget-body">
             <p class="widget-data status-ok"><i class="fas fa-check-circle"></i> Normal</p>
           </div>
           <div class="widget-footer">
            <p>Last check: Just now</p>
          </div>
        </div>
         <div class="widget-card">
             <div class="widget-header">
                <i class="fas fa-chart-line"></i>
                <h3>Recent Reports</h3>
            </div>
            <div class="widget-body">
              <p class="widget-data">5 New</p>
            </div>
           <div class="widget-footer">
             <p><a href="#">View Reports</a></p>
          </div>
        </div>
      </div>

      </main>
  </div>
</div>