<div class="filter-card">
  <div class="filter-inputs">
    <div class="filter-group">
      <label for="fromDate">Từ ngày</label>
      <input 
        type="date" 
        id="fromDate" 
        [ngModel]="fromDate()" 
        (ngModelChange)="onDateChange('from', $event)" 
        class="form-control-sm" 
        [disabled]="isLoading()"
        [min]="minDate()"
        [max]="fromMax()"
      />
    </div>
    <div class="filter-group">
      <label for="toDate">Đến ngày</label>
      <input 
        type="date" 
        id="toDate" 
        [ngModel]="toDate()" 
        (ngModelChange)="onDateChange('to', $event)" 
        class="form-control-sm" 
        [disabled]="isLoading()"
        [min]="toMin()"
        [max]="toMax()"
      />
    </div>
  </div>

  <div class="quick-actions">
    @for (range of quickRanges; track range.key) {
      <button 
        class="btn-pill" 
        [class.active]="activeRange() === range.key"
        (click)="setRange(range.key, true)"
        [disabled]="isLoading()"> 
        {{ range.label }}
      </button>
    }
  </div>

  <div class="action-buttons">
    <button class="btn btn-primary" (click)="applyFilter()" [disabled]="isLoading()">
      @if (isLoading()) {
        <i class="fas fa-spinner fa-spin"></i>
      } @else {
        <i class="fas fa-filter"></i>
      }
      <span>{{ buttonLabel() }}</span>
    </button>
  </div>
</div>